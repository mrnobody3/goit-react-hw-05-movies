{"version":3,"file":"static/js/354.117b954c.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetailsPage/moviesDetailsPage.module.css?8aa2","pages/MovieDetailsPage/MovieDetailsPage.jsx","services/moviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"moviesDetailsPage_container__3dDBW\",\"details\":\"moviesDetailsPage_details__fzRY8\",\"img\":\"moviesDetailsPage_img__9E4av\",\"btn\":\"moviesDetailsPage_btn__ZBocu\",\"title\":\"moviesDetailsPage_title__P-6YQ\",\"score\":\"moviesDetailsPage_score__Hdxdo\",\"subtitle\":\"moviesDetailsPage_subtitle__JGO3Z\",\"overview\":\"moviesDetailsPage_overview__YBGeG\",\"addinfo\":\"moviesDetailsPage_addinfo__2xRs3\",\"item\":\"moviesDetailsPage_item__NBf-r\",\"link\":\"moviesDetailsPage_link__HryGe\"};","import {\n  useParams,\n  useNavigate,\n  Link,\n  Outlet,\n  useLocation,\n} from 'react-router-dom';\nimport { useState, useEffect } from 'react';\n\nimport { fetchMovieById } from '../../services/moviesApi';\n\nimport s from './moviesDetailsPage.module.css';\n\nconst MovieDetailsPage = () => {\n  const [movie, setMovie] = useState({\n    content: {},\n    loading: false,\n    error: null,\n  });\n  const { id } = useParams();\n\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  const from = location.state?.from || '/';\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      setMovie({ ...movie, loading: true, error: null });\n\n      try {\n        const data = await fetchMovieById(id);\n        setMovie(prevState => ({\n          ...prevState,\n          loading: false,\n          content: data,\n          error: null,\n        }));\n      } catch (error) {\n        setMovie({ ...movie, loading: false, error: error.message });\n      }\n    };\n    fetchMovie();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  const goBack = () => navigate(from);\n\n  const { content, loading, error } = movie;\n  const { poster_path, genres, title, overview, vote_average } = content;\n\n  return (\n    <>\n      <button className={s.btn} onClick={goBack}>\n        Go back\n      </button>\n      {loading && <p>Loading...</p>}\n      {error && (\n        <>\n          <p>We are so sorry...Problems with server</p>\n          <p>{error}</p>\n        </>\n      )}\n      {Object.keys(content).length !== 0 && (\n        <div className={s.container}>\n          <div className={s.details}>\n            <img\n              className={s.img}\n              src={`https://image.tmdb.org/t/p/w500${poster_path}`}\n              alt=\"title\"\n            />\n            <div>\n              <h2 className={s.title}>{title}</h2>\n              <p className={s.score}>User score: {vote_average}</p>\n              <h3 className={s.subtitle}>Overview</h3>\n              <p className={s.overview}>{overview}</p>\n              <h3 className={s.subtitle}>Genres:</h3>\n              <p>{genres.map(({ name }) => name).join(', ')}</p>\n            </div>\n          </div>\n          <div className={s.addinfo}>\n            <h2 className={s.title}>Additional information</h2>\n            <ul>\n              <li className={s.item}>\n                <Link\n                  state={{ from }}\n                  className={s.link}\n                  to={`/movies/${id}/cast`}\n                >\n                  Cast\n                </Link>\n              </li>\n              <li className={s.item}>\n                <Link\n                  state={{ from }}\n                  className={s.link}\n                  to={`/movies/${id}/reviews`}\n                >\n                  Reviews\n                </Link>\n              </li>\n            </ul>\n            <Outlet />\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n","import axios from 'axios';\n// https://api.themoviedb.org/3/trending/all/day?api_key=dfa76d92e5d98a5a83f843d9aefc907e\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n});\n\nexport const fetchMovies = async () => {\n  const { data } = await instance.get('/trending/all/day?', {\n    params: {\n      api_key: 'dfa76d92e5d98a5a83f843d9aefc907e',\n    },\n  });\n  return data;\n};\n\nexport const fetchMovieById = async id => {\n  const { data } = await instance.get(`/movie/${id}?`, {\n    params: {\n      api_key: 'dfa76d92e5d98a5a83f843d9aefc907e',\n    },\n  });\n  return data;\n};\n\nexport const fetchMovieByName = async query => {\n  const { data } = await instance.get('/search/movie?', {\n    params: {\n      api_key: 'dfa76d92e5d98a5a83f843d9aefc907e',\n      query,\n    },\n  });\n  return data;\n};\n\nexport const fetchCastById = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits?`, {\n    params: {\n      api_key: 'dfa76d92e5d98a5a83f843d9aefc907e',\n    },\n  });\n  return data;\n};\n\nexport const fetchReviewsById = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews?`, {\n    params: {\n      api_key: 'dfa76d92e5d98a5a83f843d9aefc907e',\n    },\n  });\n  return data;\n};\n"],"names":["useState","content","loading","error","movie","setMovie","id","useParams","location","useLocation","navigate","useNavigate","from","state","useEffect","fetchMovie","fetchMovieById","data","prevState","message","poster_path","genres","title","overview","vote_average","className","s","onClick","Object","keys","length","src","alt","map","name","join","to","instance","axios","baseURL","fetchMovies","get","params","api_key","fetchMovieByName","query","fetchCastById","fetchReviewsById"],"sourceRoot":""}