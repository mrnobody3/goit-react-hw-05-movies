{"version":3,"file":"static/js/232.b416dcf7.chunk.js","mappings":"gRACA,EAAuB,mBAAvB,EAAiD,mBAAjD,EAA2E,mBAA3E,EAAoG,kBAApG,EAA6H,mBAA7H,EAA4J,wB,SCiE5J,EA1Da,WACX,IAAQA,GAAOC,EAAAA,EAAAA,MAAPD,GACR,GAA0BE,EAAAA,EAAAA,UAAS,CACjCC,KAAM,GACNC,SAAS,EACTC,MAAO,OAHT,eAAOC,EAAP,KAAcC,EAAd,MAMAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAU,mCAAG,6FACjBF,GAAS,kBAAKD,GAAN,IAAaF,SAAS,EAAMC,MAAO,QAD1B,mBAIQK,EAAAA,EAAAA,IAAcV,GAJtB,gBAIPG,EAJO,EAIPA,KAERI,GAAS,SAAAI,GAAS,yBACbA,GADa,IAEhBP,SAAS,EACTD,KAAMA,EACNE,MAAO,UAVM,gDAafE,GAAS,kBAAKD,GAAN,IAAaF,SAAS,EAAOC,MAAO,KAAMO,WAbnC,yDAAH,qDAgBhBH,MAEC,CAACT,IAEJ,IAAQG,EAAgBG,EAAhBH,KAAME,EAAUC,EAAVD,MACRQ,EAAWV,EAAKW,KAAI,gBAAGd,EAAH,EAAGA,GAAIe,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,KAAMC,EAA3B,EAA2BA,UAA3B,OACxB,gBAAaC,UAAWC,EAAxB,WACE,gBACED,UAAWC,EACXC,IACEL,EAAY,yCAC0BA,GAClCM,EAENC,IAAKN,KAEP,cAAGE,UAAWC,EAAd,SAAuBH,KACvB,eAAGE,UAAWC,EAAd,wBAAuCF,OAXhCjB,MAcX,OACE,iBAAKkB,UAAWC,EAAhB,UACGd,IACC,iCACE,mEACA,uBAAIA,OAGPF,EAAKoB,SAAU,eAAIL,UAAWC,EAAf,SAAwBN,S,iMC3DxCW,E,MAAWC,GAAAA,OAAa,CAC5BC,QAAS,iCAGEC,EAAW,mCAAG,sGACFH,EAASI,IAAI,qBAAsB,CACxDC,OAAQ,CACNC,QAAS,sCAHY,uBACjBC,EADiB,EACjBA,KADiB,kBAMlBA,GANkB,2CAAH,qDASXC,EAAc,mCAAG,WAAMhC,GAAN,yFACLwB,EAASI,IAAT,iBAAuB5B,EAAvB,KAA8B,CACnD6B,OAAQ,CACNC,QAAS,sCAHe,uBACpBC,EADoB,EACpBA,KADoB,kBAMrBA,GANqB,2CAAH,sDASdE,EAAgB,mCAAG,WAAMC,GAAN,yFACPV,EAASI,IAAI,iBAAkB,CACpDC,OAAQ,CACNC,QAAS,mCACTI,MAAAA,KAJ0B,uBACtBH,EADsB,EACtBA,KADsB,kBAOvBA,GAPuB,2CAAH,sDAUhBrB,EAAa,mCAAG,WAAMV,GAAN,yFACJwB,EAASI,IAAT,iBAAuB5B,EAAvB,aAAsC,CAC3D6B,OAAQ,CACNC,QAAS,sCAHc,uBACnBC,EADmB,EACnBA,KADmB,kBAMpBA,GANoB,2CAAH,sDASbI,EAAgB,mCAAG,WAAMnC,GAAN,yFACPwB,EAASI,IAAT,iBAAuB5B,EAAvB,aAAsC,CAC3D6B,OAAQ,CACNC,QAAS,sCAHiB,uBACtBC,EADsB,EACtBA,KADsB,kBAMvBA,GANuB,2CAAH,uD","sources":["webpack://goit-react-hw-05-movies/./src/components/Cast/cast.module.css?8374","components/Cast/Cast.jsx","services/moviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"cast\":\"cast_cast__+j1FZ\",\"list\":\"cast_list__bULim\",\"item\":\"cast_item__AMMjV\",\"img\":\"cast_img__cPU03\",\"name\":\"cast_name__qMwEr\",\"character\":\"cast_character__Erja1\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport { fetchCastById } from '../../services/moviesApi';\n\nimport defaultAvatar from '../../images/default-avatar.png';\nimport s from './cast.module.css';\n\nconst Cast = () => {\n  const { id } = useParams();\n  const [state, setState] = useState({\n    cast: [],\n    loading: false,\n    error: null,\n  });\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      setState({ ...state, loading: true, error: null });\n\n      try {\n        const { cast } = await fetchCastById(id);\n\n        setState(prevState => ({\n          ...prevState,\n          loading: false,\n          cast: cast,\n          error: null,\n        }));\n      } catch (error) {\n        setState({ ...state, loading: false, error: error.message });\n      }\n    };\n    fetchMovie();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  const { cast, error } = state;\n  const elements = cast.map(({ id, profile_path, name, character }) => (\n    <li key={id} className={s.item}>\n      <img\n        className={s.img}\n        src={\n          profile_path\n            ? `https://image.tmdb.org/t/p/w500${profile_path}`\n            : defaultAvatar\n        }\n        alt={name}\n      />\n      <p className={s.name}>{name}</p>\n      <p className={s.character}>Character: {character}</p>\n    </li>\n  ));\n  return (\n    <div className={s.cast}>\n      {error && (\n        <>\n          <p>We are so sorry...Problems weth server</p>\n          <p>{error}</p>\n        </>\n      )}\n      {cast.length && <ul className={s.list}>{elements}</ul>}\n    </div>\n  );\n};\n\nexport default Cast;\n","import axios from 'axios';\n// https://api.themoviedb.org/3/trending/all/day?api_key=dfa76d92e5d98a5a83f843d9aefc907e\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n});\n\nexport const fetchMovies = async () => {\n  const { data } = await instance.get('/trending/all/day?', {\n    params: {\n      api_key: 'dfa76d92e5d98a5a83f843d9aefc907e',\n    },\n  });\n  return data;\n};\n\nexport const fetchMovieById = async id => {\n  const { data } = await instance.get(`/movie/${id}?`, {\n    params: {\n      api_key: 'dfa76d92e5d98a5a83f843d9aefc907e',\n    },\n  });\n  return data;\n};\n\nexport const fetchMovieByName = async query => {\n  const { data } = await instance.get('/search/movie?', {\n    params: {\n      api_key: 'dfa76d92e5d98a5a83f843d9aefc907e',\n      query,\n    },\n  });\n  return data;\n};\n\nexport const fetchCastById = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits?`, {\n    params: {\n      api_key: 'dfa76d92e5d98a5a83f843d9aefc907e',\n    },\n  });\n  return data;\n};\n\nexport const fetchReviewsById = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews?`, {\n    params: {\n      api_key: 'dfa76d92e5d98a5a83f843d9aefc907e',\n    },\n  });\n  return data;\n};\n"],"names":["id","useParams","useState","cast","loading","error","state","setState","useEffect","fetchMovie","fetchCastById","prevState","message","elements","map","profile_path","name","character","className","s","src","defaultAvatar","alt","length","instance","axios","baseURL","fetchMovies","get","params","api_key","data","fetchMovieById","fetchMovieByName","query","fetchReviewsById"],"sourceRoot":""}