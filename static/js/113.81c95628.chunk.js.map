{"version":3,"file":"static/js/113.81c95628.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/FilmsList/filmList.module.css?38cb","components/FilmsList/FilmsList.jsx","webpack://goit-react-hw-05-movies/./src/components/MoviesSearch/MoviesSearchForm/moviesSearchForm.module.css?a140","components/MoviesSearch/MoviesSearchForm/MoviesSearchForm.jsx","webpack://goit-react-hw-05-movies/./src/components/MoviesSearch/moviesSearch.module.css?8ba8","components/MoviesSearch/MoviesSearch.jsx","pages/MoviesPage/moviesPage.module.css","pages/MoviesPage/MoviesPage.jsx","services/moviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"filmList_item__tU9hF\",\"link\":\"filmList_link__XanvP\"};","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport s from './filmList.module.css';\n\nconst FilmsList = ({ items }) => {\n  const location = useLocation();\n  const elements = items.map(({ id, original_title, name }) => {\n    return (\n      <li key={id} className={s.item}>\n        <Link\n          state={{ from: location }}\n          to={`/movies/${id}`}\n          className={s.link}\n        >\n          {original_title || name}\n        </Link>\n      </li>\n    );\n  });\n  return <ul className={s.list}>{elements}</ul>;\n};\n\nexport default FilmsList;\n\nFilmsList.propsDefault = {\n  items: [],\n};\n\nFilmsList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      original_title: PropTypes.string,\n      name: PropTypes.string.isRequired,\n    })\n  ),\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"moviesSearchForm_input__390H4\",\"btn\":\"moviesSearchForm_btn__Q5mOU\",\"form\":\"moviesSearchForm_form__8bc-M\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './moviesSearchForm.module.css';\n\nconst MoviesSearchForm = ({ getQuery }) => {\n  const [state, setState] = useState({\n    q: '',\n  });\n\n  const handleChange = ({ target }) => {\n    const { value, name } = target;\n    setState({\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    getQuery(state.q);\n    setState({ q: '' });\n  };\n\n  return (\n    <form className={s.form} action=\"\" onSubmit={handleSubmit}>\n      <input\n        value={state.q}\n        name=\"q\"\n        onChange={handleChange}\n        type=\"text\"\n        className={s.input}\n      />\n      <button className={s.btn} type=\"submit\">\n        Search\n      </button>\n    </form>\n  );\n};\nexport default MoviesSearchForm;\n\nMoviesSearchForm.propTypes = {\n  getQuery: PropTypes.func.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"search\":\"moviesSearch_search__9UZwf\"};","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchMovieByName } from '../../services/moviesApi';\n\nimport MoviesSearchForm from './MoviesSearchForm';\nimport FilmsList from '../FilmsList';\n\nimport s from './moviesSearch.module.css';\n\nconst MoviesSearch = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const [films, setFilms] = useState({\n    items: [],\n    loading: false,\n    error: null,\n  });\n  // const [query, setQuery] = useState('');\n\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    try {\n      const fetchMovie = async () => {\n        if (!query) return;\n        setFilms({ ...films, loading: true, error: null });\n\n        const { results } = await fetchMovieByName(query);\n        setFilms(prevState => ({\n          ...prevState,\n          items: results,\n          loading: false,\n          error: null,\n        }));\n      };\n      fetchMovie();\n    } catch (error) {\n      setFilms({ ...films, loading: false, error: error.message });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n  const { items, loading, error } = films;\n\n  const getQuery = query => {\n    setSearchParams({ query });\n  };\n\n  return (\n    <div className={s.search}>\n      <MoviesSearchForm getQuery={getQuery} />\n      {loading && <p>loading...</p>}\n      {error && <p>{error}</p>}\n      <FilmsList items={items} />\n    </div>\n  );\n};\n\nexport default MoviesSearch;\n","// extracted by mini-css-extract-plugin\nexport default {};","import MoviesSearch from '../../components/MoviesSearch';\n\nimport s from './moviesPage.module.css';\n\nconst MoviesPage = () => {\n  return (\n    <div className={s.search}>\n      <MoviesSearch />\n    </div>\n  );\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\n// https://api.themoviedb.org/3/trending/all/day?api_key=dfa76d92e5d98a5a83f843d9aefc907e\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n});\n\nexport const fetchMovies = async () => {\n  const { data } = await instance.get('/trending/all/day?', {\n    params: {\n      api_key: 'dfa76d92e5d98a5a83f843d9aefc907e',\n    },\n  });\n  return data;\n};\n\nexport const fetchMovieById = async id => {\n  const { data } = await instance.get(`/movie/${id}?`, {\n    params: {\n      api_key: 'dfa76d92e5d98a5a83f843d9aefc907e',\n    },\n  });\n  return data;\n};\n\nexport const fetchMovieByName = async query => {\n  const { data } = await instance.get('/search/movie?', {\n    params: {\n      api_key: 'dfa76d92e5d98a5a83f843d9aefc907e',\n      query,\n    },\n  });\n  return data;\n};\n\nexport const fetchCastById = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits?`, {\n    params: {\n      api_key: 'dfa76d92e5d98a5a83f843d9aefc907e',\n    },\n  });\n  return data;\n};\n\nexport const fetchReviewsById = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews?`, {\n    params: {\n      api_key: 'dfa76d92e5d98a5a83f843d9aefc907e',\n    },\n  });\n  return data;\n};\n"],"names":["FilmsList","items","location","useLocation","elements","map","id","original_title","name","className","s","state","from","to","propsDefault","getQuery","useState","q","setState","action","onSubmit","e","preventDefault","value","onChange","target","type","useSearchParams","searchParams","setSearchParams","loading","error","films","setFilms","query","get","useEffect","fetchMovie","fetchMovieByName","results","prevState","message","instance","axios","baseURL","fetchMovies","params","api_key","data","fetchMovieById","fetchCastById","fetchReviewsById"],"sourceRoot":""}